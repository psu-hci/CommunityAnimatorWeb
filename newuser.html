<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <style type="text/css">
      html, body { height: 100%; margin: 0; padding: 0; }
      #map { height: 100%; }
    </style>
  <title>Community Animator</title>
  <meta name="description" content="My Parse App">
  <meta name="viewport" content="width=device-width">
   <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/> 
</head>

<body>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="js/materialize.min.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-latest.js"></script>
  
    <nav>
    <div class="nav-wrapper">
      <a href="#" class="brand-logo">&nbsp&nbspCommunity Animator</a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a href="newuser.html">New Users</a></li>
        <li><a href="login.html">Existing Users</a></li>
        <li><a href="main.html">Current User</a></li>
      </ul>
    </div>
  </nav>
  
  <div id="main">

    <h1><center>New User Account</center></h1>
	<form>
	<center>
	
	<div class = "row">
		<form class="col s12">
			<div class="input-field col s4"></div>
			<div class="input-field col s4">Username: <input type="text" name="username" id="username"/></div>
	</div>
	<div class = "row">
			<div class="input-field col s4"></div>
			<div class="input-field col s4">
			Password: <input type="password" name="password" id ="password" /></div>
	</div>
	<div class = "row">
		<form class="col s12">
			<div class="input-field col s4"></div>
			<div class="input-field col s4">
			Email: <input type="text" name="email" id = "email"/></div>
	</div>
	<div class = "row">
			<div class="input-field col s4"></div>
			<div class="input-field col s4">
			Gender: <input type="text" name="gender" id = "gender"/></div>
	</div>
	<div class = "row">
		<form class="col s12">
			<div class="input-field col s4"></div>
			<div class="input-field col s4">
			Date of Birth:<input class = "datepicker" type="date" name="datebirth" id = "datebirth"/></div>
	</div>
	<div class = "row">
			<div class="input-field col s4"></div>
			<div class="input-field col s4">
			Occupation: <input type="text" name="occupation" id = "occupation"/></div>
		</form>
	</div>
	
	</center>
	<br/>
	<br/>
	
	<center>
	<input type="button" value="Submit" onclick="createUser(document.getElementById('username').value, document.getElementById('password').value, document.getElementById('email').value, document.getElementById('gender').value, document.getElementById('datebirth').value, document.getElementById('occupation').value)"/>
    <br/><br/><a href ="index.html">Back to main page</a>
	</center>
	<br/>
  </div>
  
  <script type="text/javascript">
  
	$('.datepicker').pickadate({
		selectMonths: true, // Creates a dropdown to control month
		selectYears: 100 // Creates a dropdown of 15 years to control year		
	});
  
    Parse.initialize("T4lD84ZeLY7615h43jpGlVTG5cXZyXd8ceSGX29e", "KPVDbWy1zWbJD1WPG4HReba5urgHsPVJgh9wX5D1");
    
	function createUser(username, password, email, gender, datebirth, occupation)
	{
		var user = new Parse.User();
		user.set("username", username);
		user.set("password", password);
		user.set("email", email);
		user.set("gender", gender)
		user.set("dateBirth", datebirth);
		user.set("distance", 0);
		user.set("occupation", occupation);
		user.set("chatting", false);
		user.set("image", false);
		user.set("reminder", true);
		user.set("status", true);	
		user.set("view", true)
		  
		user.signUp(null, {
		  success: function(user) {
			alert("Account created successfully!");
			window.location="login.html";
		  },
		  error: function(user, error) {
			// Show the error message somewhere and let the user try again.
			alert("Error: " + error.code + " " + error.message);
		  }
		});
	}
  </script>
</body>

</html>
